-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Hôte : db
-- Généré le : ven. 12 jan. 2024 à 07:53
-- Version du serveur : 8.2.0
-- Version de PHP : 8.2.14

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Base de données : `capteursDB`
--
CREATE DATABASE IF NOT EXISTS `capteursDB` DEFAULT CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci;
USE `capteursDB`;

-- --------------------------------------------------------

--
-- Structure de la table `Battery`
--

CREATE TABLE `Battery` (
  `deviceId` int NOT NULL,
  `batteryLevel` decimal(10,0) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Déchargement des données de la table `Battery`
--

INSERT INTO `Battery` (`deviceId`, `batteryLevel`) VALUES
(32, 18),
(35, 15),
(31, 13),
(43, 7),
(39, 12),
(21, 93),
(24, 15),
(36, 16),
(44, 65),
(38, 86);

-- --------------------------------------------------------

--
-- Structure de la table `Device`
--

CREATE TABLE `Device` (
  `id` int NOT NULL,
  `deviceName` varchar(50) NOT NULL,
  `room` varchar(25) CHARACTER SET utf8mb3 COLLATE utf8mb3_general_ci NOT NULL,
  `floor` int NOT NULL,
  `building` char(1) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Déchargement des données de la table `Device`
--

INSERT INTO `Device` (`id`, `deviceName`, `room`, `floor`, `building`) VALUES
(12, 'AM107-43', 'Salle-conseil', 1, 'A'),
(13, 'AM107-16', 'B109', 1, 'B'),
(14, 'AM107-31', 'E101', 1, 'E'),
(15, 'AM107-3', 'B111', 1, 'B'),
(16, 'AM107-42', 'E210', 2, 'E'),
(17, 'AM107-2', 'B110', 1, 'B'),
(18, 'AM107-37', 'E100', 1, 'E'),
(19, 'AM107-30', 'E007', 0, 'E'),
(20, 'AM107-6', 'B203', 2, 'B'),
(21, 'AM107-9', 'B003', 0, 'B'),
(22, 'AM107-15', 'B108', 1, 'B'),
(23, 'AM107-29', 'E006', 0, 'E'),
(24, 'AM107-23', 'C004', 0, 'C'),
(25, 'AM107-28', 'E001', 0, 'E'),
(26, 'AM107-5', 'B202', 2, 'B'),
(27, 'AM107-27', 'E004', 0, 'E'),
(28, 'AM107-24', 'C006', 0, 'C'),
(29, 'AM107-26', 'E003', 0, 'E'),
(30, 'AM107-41', 'E207', 2, 'E'),
(31, 'AM107-32', 'E102', 1, 'E'),
(32, 'AM107-33', 'E103', 1, 'E'),
(33, 'AM107-18', 'B113', 1, 'B'),
(34, 'AM107-12', 'B103', 1, 'B'),
(35, 'AM107-20', 'B217', 2, 'B'),
(36, 'AM107-19', 'B212', 2, 'B'),
(37, 'AM107-40', 'E206', 2, 'E'),
(38, 'AM107-35', 'E105', 1, 'E'),
(39, 'AM107-17', 'B112', 1, 'B'),
(40, 'AM107-38', 'E208', 2, 'E'),
(41, 'AM107-49', 'hall-entrée-principale', 0, 'A'),
(42, 'AM107-34', 'E104', 1, 'E'),
(43, 'AM107-36', 'E106', 1, 'E'),
(44, 'AM107-4', 'B201', 2, 'B'),
(45, 'AM107-51', 'amphi1', 0, 'A'),
(46, 'AM107-46', 'Foyer-personnels', 2, 'B');

-- --------------------------------------------------------

--
-- Structure de la table `Donnes`
--

CREATE TABLE `Donnes` (
  `idDevice` int NOT NULL,
  `temperature` decimal(10,0) NOT NULL,
  `humidity` decimal(10,0) NOT NULL,
  `activity` int NOT NULL,
  `co2` int NOT NULL,
  `tvoc` int NOT NULL,
  `illumination` int NOT NULL,
  `time` datetime NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb3;

--
-- Déchargement des données de la table `Donnes`
--

INSERT INTO `Donnes` (`idDevice`, `temperature`, `humidity`, `activity`, `co2`, `tvoc`, `illumination`, `time`) VALUES
(24, 19, 41, 0, 1255, 283, 2, '2024-01-11 09:53:43'),
(25, 17, 42, 245, 699, 346, 60, '2024-01-11 09:54:37'),
(26, 20, 35, 0, 589, 78, 2, '2024-01-11 09:54:44'),
(27, 17, 39, 0, 544, 315, 27, '2024-01-11 09:54:44'),
(28, 18, 37, 38, 665, 125, 123, '2024-01-11 09:54:44'),
(29, 17, 42, 266, 1109, 570, 67, '2024-01-11 09:55:14'),
(20, 20, 37, 0, 697, 137, 2, '2024-01-11 16:10:14'),
(21, 22, 33, 230, 657, 179, 9, '2024-01-11 16:10:45'),
(22, 20, 34, 0, 748, 123, 2, '2024-01-11 16:12:16'),
(23, 18, 35, 0, 446, 193, 26, '2024-01-11 16:13:25'),
(24, 19, 38, 0, 651, 142, 4, '2024-01-11 16:13:41'),
(30, 19, 34, 0, 524, 211, 191, '2024-01-11 16:16:41'),
(32, 20, 36, 198, 906, 371, 50, '2024-01-11 16:16:44'),
(33, 21, 39, 0, 1160, 203, 3, '2024-01-11 16:17:10'),
(34, 22, 32, 0, 2085, 174, 0, '2024-01-11 16:17:13'),
(35, 19, 38, 0, 686, 200, 4, '2024-01-11 16:17:15'),
(36, 18, 41, 0, 728, 207, 42, '2024-01-11 16:17:16'),
(37, 20, 33, 0, 480, 381, 1, '2024-01-11 16:38:41'),
(38, 20, 34, 0, 695, 235, 2, '2024-01-11 16:38:41'),
(39, 20, 33, 0, 436, 151, 4, '2024-01-11 16:38:42'),
(30, 19, 34, 0, 513, 207, 113, '2024-01-11 15:46:42'),
(32, 19, 37, 95, 815, 341, 39, '2024-01-11 15:46:44'),
(40, 19, 35, 0, 537, 281, 4, '2024-01-11 15:48:17'),
(41, 21, 31, 6, 500, 170, 12, '2024-01-11 15:48:28'),
(42, 20, 34, 23, 623, 234, 15, '2024-01-11 15:49:11'),
(12, 23, 29, 0, 567, 244, 30, '2024-01-11 15:49:38'),
(15, 21, 33, 0, 493, 160, 8, '2024-01-11 15:49:40'),
(14, 20, 36, 38, 1010, 1063, 6, '2024-01-11 15:49:41'),
(13, 17, 37, 0, 516, 76, 9, '2024-01-11 15:49:41'),
(17, 20, 34, 0, 528, 272, 7, '2024-01-11 15:49:44'),
(16, 9, 65, 0, 554, 845, 45, '2024-01-11 15:49:46'),
(17, 20, 34, 0, 528, 272, 7, '2024-01-11 15:49:46'),
(18, 25, 26, 0, 701, 107, 34, '2024-01-11 15:49:54'),
(19, 18, 36, 0, 546, 217, 9, '2024-01-11 15:49:58'),
(20, 20, 36, 0, 664, 135, 1, '2024-01-11 15:50:14'),
(21, 22, 35, 240, 1035, 245, 41, '2024-01-11 15:50:45'),
(33, 20, 35, 0, 493, 123, 2, '2024-01-12 07:17:12'),
(34, 21, 32, 98, 2001, 124, 42, '2024-01-12 07:17:14'),
(35, 18, 36, 0, 500, 128, 2, '2024-01-12 07:17:15'),
(36, 17, 39, 0, 509, 153, 1, '2024-01-12 07:17:18'),
(31, 18, 35, 0, 490, 232, 1, '2024-01-12 07:17:40'),
(43, 17, 35, 0, 475, 46, 1, '2024-01-12 07:17:41'),
(44, 20, 34, 0, 496, 126, 1, '2024-01-12 07:17:43'),
(45, 14, 44, 320, 640, 64, 1, '2024-01-12 07:17:46'),
(46, 18, 37, 0, 577, 169, 42, '2024-01-12 07:17:49'),
(40, 18, 34, 0, 514, 226, 1, '2024-01-12 07:18:19'),
(41, 19, 32, 48, 536, 117, 8, '2024-01-12 07:18:30'),
(37, 18, 33, 0, 491, 318, 1, '2024-01-12 07:18:43'),
(38, 16, 39, 136, 670, 163, 23, '2024-01-12 07:18:43'),
(39, 20, 35, 161, 716, 189, 10, '2024-01-12 07:18:45'),
(42, 16, 38, 3, 519, 57, 51, '2024-01-12 07:19:11'),
(12, 22, 29, 0, 486, 217, 1, '2024-01-12 07:19:40'),
(14, 20, 32, 0, 491, 459, 1, '2024-01-12 07:19:40'),
(15, 20, 33, 0, 454, 138, 1, '2024-01-12 07:19:41'),
(13, 16, 38, 0, 547, 64, 1, '2024-01-12 07:19:42'),
(17, 19, 36, 175, 811, 202, 45, '2024-01-12 07:19:47'),
(16, 4, 71, 0, 553, 337, 1, '2024-01-12 07:19:48'),
(18, 25, 25, 0, 483, 67, 1, '2024-01-12 07:19:55'),
(19, 17, 38, 45, 683, 152, 104, '2024-01-12 07:20:01'),
(20, 20, 39, 236, 966, 139, 49, '2024-01-12 07:20:15'),
(21, 21, 31, 48, 537, 106, 36, '2024-01-12 07:20:45'),
(22, 20, 33, 0, 758, 86, 1, '2024-01-12 07:22:17'),
(23, 17, 39, 161, 932, 223, 61, '2024-01-12 07:23:27'),
(24, 19, 37, 63, 835, 177, 43, '2024-01-12 07:23:44'),
(25, 17, 43, 128, 1119, 607, 51, '2024-01-12 07:24:36'),
(26, 20, 33, 0, 484, 48, 1, '2024-01-12 07:24:38'),
(27, 16, 37, 0, 539, 252, 1, '2024-01-12 07:24:42'),
(28, 19, 36, 0, 461, 88, 1, '2024-01-12 07:24:44'),
(33, 20, 35, 0, 494, 122, 2, '2024-01-12 07:27:12'),
(34, 21, 34, 37, 2266, 153, 42, '2024-01-12 07:27:14'),
(35, 18, 36, 0, 492, 129, 2, '2024-01-12 07:27:16'),
(36, 17, 39, 0, 518, 155, 1, '2024-01-12 07:27:18'),
(31, 19, 34, 0, 493, 235, 1, '2024-01-12 07:27:41'),
(43, 17, 35, 0, 473, 39, 1, '2024-01-12 07:27:42'),
(44, 20, 34, 0, 500, 128, 1, '2024-01-12 07:27:43'),
(45, 15, 44, 107, 579, 73, 1, '2024-01-12 07:27:45'),
(46, 18, 37, 0, 566, 163, 42, '2024-01-12 07:27:47'),
(40, 18, 34, 0, 519, 228, 1, '2024-01-12 07:28:19'),
(41, 19, 32, 215, 533, 122, 10, '2024-01-12 07:28:29'),
(37, 18, 32, 0, 491, 319, 1, '2024-01-12 07:28:43'),
(38, 17, 40, 167, 762, 210, 21, '2024-01-12 07:28:43'),
(39, 21, 37, 175, 942, 245, 10, '2024-01-12 07:28:46'),
(42, 16, 38, 25, 570, 80, 53, '2024-01-12 07:29:12'),
(12, 22, 29, 0, 481, 219, 0, '2024-01-12 07:29:40'),
(15, 20, 33, 0, 451, 139, 1, '2024-01-12 07:29:41'),
(14, 20, 32, 0, 485, 462, 1, '2024-01-12 07:29:41'),
(13, 16, 38, 0, 560, 62, 1, '2024-01-12 07:29:42'),
(23, 17, 40, 97, 1043, 270, 61, '2024-01-12 07:33:26'),
(24, 19, 38, 73, 938, 314, 43, '2024-01-12 07:33:45'),
(26, 20, 33, 0, 485, 50, 1, '2024-01-12 07:34:39'),
(25, 17, 43, 105, 1157, 795, 51, '2024-01-12 07:34:41'),
(27, 16, 36, 0, 543, 262, 2, '2024-01-12 07:34:42'),
(28, 19, 35, 0, 460, 88, 0, '2024-01-12 07:34:43'),
(30, 18, 34, 0, 490, 126, 15, '2024-01-12 07:36:43'),
(32, 18, 39, 162, 918, 344, 34, '2024-01-12 07:36:45'),
(33, 20, 35, 0, 491, 121, 2, '2024-01-12 07:37:11'),
(34, 21, 35, 80, 2470, 175, 42, '2024-01-12 07:37:13'),
(35, 18, 36, 0, 500, 127, 2, '2024-01-12 07:37:16'),
(36, 18, 39, 0, 514, 156, 2, '2024-01-12 07:37:19'),
(31, 19, 34, 0, 507, 236, 1, '2024-01-12 07:37:41'),
(43, 17, 35, 0, 480, 40, 1, '2024-01-12 07:37:41'),
(44, 20, 34, 0, 504, 129, 1, '2024-01-12 07:37:44'),
(45, 15, 44, 141, 590, 83, 1, '2024-01-12 07:37:45'),
(46, 18, 37, 0, 550, 160, 44, '2024-01-12 07:37:47'),
(40, 18, 34, 0, 520, 212, 1, '2024-01-12 07:38:19'),
(41, 19, 32, 186, 539, 129, 12, '2024-01-12 07:38:29'),
(37, 18, 32, 0, 489, 320, 1, '2024-01-12 07:38:42'),
(38, 17, 40, 149, 822, 228, 21, '2024-01-12 07:38:43'),
(39, 21, 38, 228, 1150, 303, 8, '2024-01-12 07:38:45'),
(21, 21, 32, 37, 657, 131, 34, '2024-01-12 07:40:46'),
(22, 20, 33, 0, 759, 88, 1, '2024-01-12 07:42:16'),
(23, 17, 40, 178, 1129, 276, 62, '2024-01-12 07:43:27'),
(24, 19, 38, 43, 1008, 265, 45, '2024-01-12 07:43:45'),
(25, 17, 42, 100, 974, 683, 53, '2024-01-12 07:44:36'),
(26, 20, 32, 0, 493, 48, 1, '2024-01-12 07:44:38'),
(27, 16, 36, 0, 547, 267, 2, '2024-01-12 07:44:42'),
(28, 19, 35, 0, 459, 90, 4, '2024-01-12 07:44:43');

--
-- Index pour les tables déchargées
--

--
-- Index pour la table `Battery`
--
ALTER TABLE `Battery`
  ADD KEY `Battery_fk_deviceId` (`deviceId`);

--
-- Index pour la table `Device`
--
ALTER TABLE `Device`
  ADD PRIMARY KEY (`id`);

--
-- Index pour la table `Donnes`
--
ALTER TABLE `Donnes`
  ADD KEY `Donnes_fk_idDevice` (`idDevice`);

--
-- AUTO_INCREMENT pour les tables déchargées
--

--
-- AUTO_INCREMENT pour la table `Device`
--
ALTER TABLE `Device`
  MODIFY `id` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=47;

--
-- Contraintes pour les tables déchargées
--

--
-- Contraintes pour la table `Battery`
--
ALTER TABLE `Battery`
  ADD CONSTRAINT `Battery_fk_deviceId` FOREIGN KEY (`deviceId`) REFERENCES `Device` (`id`);

--
-- Contraintes pour la table `Donnes`
--
ALTER TABLE `Donnes`
  ADD CONSTRAINT `Donnes_fk_idDevice` FOREIGN KEY (`idDevice`) REFERENCES `Device` (`id`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
